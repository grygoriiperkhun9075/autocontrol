<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–ê–≤—Ç–æ–ö–æ–Ω—Ç—Ä–æ–ª—å - –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –æ–±–ª—ñ–∫—É –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤, –∑–∞–ø—Ä–∞–≤–æ–∫, –ø—Ä–æ–±—ñ–≥—É —Ç–∞ –≤–∏—Ç—Ä–∞—Ç">
    <title>–ê–≤—Ç–æ–ö–æ–Ω—Ç—Ä–æ–ª—å - –ö–æ–Ω—Ç—Ä–æ–ª—å –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">üöó</span>
                    <span class="logo-text">–ê–≤—Ç–æ–ö–æ–Ω—Ç—Ä–æ–ª—å</span>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <span></span>
                </button>
            </div>

            <nav class="nav-menu">
                <button class="nav-item active" data-section="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">–ì–æ–ª–æ–≤–Ω–∞</span>
                </button>
                <button class="nav-item" data-section="cars">
                    <span class="nav-icon">üöó</span>
                    <span class="nav-text">–ê–≤—Ç–æ–º–æ–±—ñ–ª—ñ</span>
                </button>
                <button class="nav-item" data-section="fuel">
                    <span class="nav-icon">‚õΩ</span>
                    <span class="nav-text">–ó–∞–ø—Ä–∞–≤–∫–∏</span>
                </button>
                <button class="nav-item" data-section="expenses">
                    <span class="nav-icon">üí∞</span>
                    <span class="nav-text">–í–∏—Ç—Ä–∞—Ç–∏</span>
                </button>
                <button class="nav-item" data-section="reminders">
                    <span class="nav-icon">üîî</span>
                    <span class="nav-text">–ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è</span>
                </button>
                <button class="nav-item" data-section="statistics">
                    <span class="nav-icon">üìà</span>
                    <span class="nav-text">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <button class="export-btn" id="syncBtn">
                    <span class="nav-icon">üîÑ</span>
                    <span class="nav-text">–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏</span>
                </button>
                <button class="export-btn" id="exportBtn">
                    <span class="nav-icon">üì§</span>
                    <span class="nav-text">–ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-header">
                <button class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</button>
                <h1 class="page-title" id="pageTitle">–ì–æ–ª–æ–≤–Ω–∞</h1>
                <div class="header-filters">
                    <div class="car-selector">
                        <select id="currentCarSelect">
                            <option value="">–£—Å—ñ –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ</option>
                        </select>
                    </div>
                    <div class="period-selector">
                        <select id="currentPeriodSelect">
                            <option value="all">–ó–∞ –≤–µ—Å—å —á–∞—Å</option>
                            <option value="year">–ó–∞ —Ä—ñ–∫</option>
                            <option value="month">–ó–∞ –º—ñ—Å—è—Ü—å</option>
                            <option value="week">–ó–∞ —Ç–∏–∂–¥–µ–Ω—å</option>
                        </select>
                    </div>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section class="content-section active" id="section-dashboard">
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üöó</div>
                        <div class="stat-info">
                            <span class="stat-value" id="totalCars">0</span>
                            <span class="stat-label">–ê–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚õΩ</div>
                        <div class="stat-info">
                            <span class="stat-value" id="avgConsumption">0</span>
                            <span class="stat-label">–õ/100–∫–º (—Å–µ—Ä–µ–¥–Ω—î)</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìè</div>
                        <div class="stat-info">
                            <span class="stat-value" id="totalMileage">0</span>
                            <span class="stat-label">–ó–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–æ–±—ñ–≥ (–∫–º)</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-info">
                            <span class="stat-value" id="totalExpenses">0</span>
                            <span class="stat-label">–í–∏—Ç—Ä–∞—Ç–∏ (–≥—Ä–Ω)</span>
                        </div>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="chart-card">
                        <h3>–í–∏—Ç—Ä–∞—Ç–∞ –ø–∞–ª—å–Ω–æ–≥–æ –ø–æ –º—ñ—Å—è—Ü—è—Ö</h3>
                        <canvas id="fuelChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>–í–∏—Ç—Ä–∞—Ç–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö</h3>
                        <canvas id="expensesChart"></canvas>
                    </div>
                </div>

                <div class="reminders-preview">
                    <h3>üîî –ù–∞–π–±–ª–∏–∂—á—ñ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è</h3>
                    <div class="reminders-list" id="upcomingReminders">
                        <p class="empty-message">–ù–µ–º–∞—î –∞–∫—Ç–∏–≤–Ω–∏—Ö –Ω–∞–≥–∞–¥—É–≤–∞–Ω—å</p>
                    </div>
                </div>
            </section>

            <!-- Cars Section -->
            <section class="content-section" id="section-cars">
                <div class="section-header">
                    <h2>–ú–æ—ó –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ</h2>
                    <button class="btn btn-primary" id="addCarBtn">
                        <span>+</span> –î–æ–¥–∞—Ç–∏ –∞–≤—Ç–æ
                    </button>
                </div>
                <div class="cars-grid" id="carsGrid">
                    <p class="empty-message">–î–æ–¥–∞–π—Ç–µ —Å–≤—ñ–π –ø–µ—Ä—à–∏–π –∞–≤—Ç–æ–º–æ–±—ñ–ª—å</p>
                </div>
            </section>

            <!-- Fuel Section -->
            <section class="content-section" id="section-fuel">
                <div class="section-header">
                    <h2>–ó–∞–ø—Ä–∞–≤–∫–∏</h2>
                    <button class="btn btn-primary" id="addFuelBtn">
                        <span>+</span> –î–æ–¥–∞—Ç–∏ –∑–∞–ø—Ä–∞–≤–∫—É
                    </button>
                </div>
                <div class="fuel-stats" id="fuelStats">
                    <div class="fuel-stat">
                        <span class="fuel-stat-label">–û—Å—Ç–∞–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç–∞:</span>
                        <span class="fuel-stat-value" id="lastConsumption">-- –ª/100–∫–º</span>
                    </div>
                    <div class="fuel-stat">
                        <span class="fuel-stat-label">–°–µ—Ä–µ–¥–Ω—è –≤–∏—Ç—Ä–∞—Ç–∞:</span>
                        <span class="fuel-stat-value" id="avgFuelConsumption">-- –ª/100–∫–º</span>
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table" id="fuelTable">
                        <thead>
                            <tr>
                                <th>–î–∞—Ç–∞</th>
                                <th>–ê–≤—Ç–æ</th>
                                <th>–õ—ñ—Ç—Ä–∏</th>
                                <th>–¶—ñ–Ω–∞/–ª</th>
                                <th>–°—É–º–∞</th>
                                <th>–ü—Ä–æ–±—ñ–≥</th>
                                <th>–õ/100–∫–º</th>
                                <th>–î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="fuelTableBody">
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Expenses Section -->
            <section class="content-section" id="section-expenses">
                <div class="section-header">
                    <h2>–í–∏—Ç—Ä–∞—Ç–∏</h2>
                    <button class="btn btn-primary" id="addExpenseBtn">
                        <span>+</span> –î–æ–¥–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É
                    </button>
                </div>
                <div class="expense-categories" id="expenseCategories">
                </div>
                <div class="table-container">
                    <table class="data-table" id="expensesTable">
                        <thead>
                            <tr>
                                <th>–î–∞—Ç–∞</th>
                                <th>–ê–≤—Ç–æ</th>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                                <th>–û–ø–∏—Å</th>
                                <th>–°—É–º–∞</th>
                                <th>–î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="expensesTableBody">
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Reminders Section -->
            <section class="content-section" id="section-reminders">
                <div class="section-header">
                    <h2>–ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è</h2>
                    <button class="btn btn-primary" id="addReminderBtn">
                        <span>+</span> –î–æ–¥–∞—Ç–∏ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è
                    </button>
                </div>
                <div class="reminders-grid" id="remindersGrid">
                    <p class="empty-message">–ù–µ–º–∞—î –Ω–∞–≥–∞–¥—É–≤–∞–Ω—å</p>
                </div>
            </section>

            <!-- Statistics Section -->
            <section class="content-section" id="section-statistics">
                <div class="section-header">
                    <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                </div>
                <div class="stats-filters">
                    <select id="statsCarFilter">
                        <option value="">–£—Å—ñ –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ</option>
                    </select>
                    <select id="statsPeriodFilter">
                        <option value="all">–ó–∞ –≤–µ—Å—å —á–∞—Å</option>
                        <option value="year">–ó–∞ —Ä—ñ–∫</option>
                        <option value="month">–ó–∞ –º—ñ—Å—è—Ü—å</option>
                    </select>
                </div>
                <div class="charts-grid">
                    <div class="chart-card full-width">
                        <h3>–î–∏–Ω–∞–º—ñ–∫–∞ –≤–∏—Ç—Ä–∞—Ç–∏ –ø–∞–ª—å–Ω–æ–≥–æ</h3>
                        <canvas id="consumptionTrendChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç</h3>
                        <canvas id="expensesCompareChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>–í–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –ø–∞–ª—å–Ω–µ –ø–æ –º—ñ—Å—è—Ü—è—Ö</h3>
                        <canvas id="fuelCostChart"></canvas>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal: Add/Edit Car -->
    <div class="modal" id="carModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="carModalTitle">–î–æ–¥–∞—Ç–∏ –∞–≤—Ç–æ–º–æ–±—ñ–ª—å</h3>
                <button class="modal-close" data-close="carModal">&times;</button>
            </div>
            <form id="carForm">
                <input type="hidden" id="carId">
                <div class="form-group">
                    <label for="carBrand">–ú–∞—Ä–∫–∞ *</label>
                    <input type="text" id="carBrand" required placeholder="Toyota">
                </div>
                <div class="form-group">
                    <label for="carModel">–ú–æ–¥–µ–ª—å *</label>
                    <input type="text" id="carModel" required placeholder="Camry">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="carYear">–†—ñ–∫ –≤–∏–ø—É—Å–∫—É</label>
                        <input type="number" id="carYear" min="1900" max="2030" placeholder="2020">
                    </div>
                    <div class="form-group">
                        <label for="carMileage">–ü–æ—Ç–æ—á–Ω–∏–π –ø—Ä–æ–±—ñ–≥ (–∫–º)</label>
                        <input type="number" id="carMileage" min="0" placeholder="50000">
                    </div>
                </div>
                <div class="form-group">
                    <label for="carPlate">–ù–æ–º–µ—Ä–Ω–∏–π –∑–Ω–∞–∫</label>
                    <input type="text" id="carPlate" placeholder="AA 1234 BB">
                </div>
                <div class="form-group">
                    <label for="carColor">–ö–æ–ª—ñ—Ä</label>
                    <input type="text" id="carColor" placeholder="–°—ñ—Ä–∏–π">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" data-close="carModal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                    <button type="submit" class="btn btn-primary">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Add/Edit Fuel -->
    <div class="modal" id="fuelModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="fuelModalTitle">–î–æ–¥–∞—Ç–∏ –∑–∞–ø—Ä–∞–≤–∫—É</h3>
                <button class="modal-close" data-close="fuelModal">&times;</button>
            </div>
            <form id="fuelForm">
                <input type="hidden" id="fuelId">
                <div class="form-group">
                    <label for="fuelCarId">–ê–≤—Ç–æ–º–æ–±—ñ–ª—å *</label>
                    <select id="fuelCarId" required>
                        <option value="">–í–∏–±–µ—Ä—ñ—Ç—å –∞–≤—Ç–æ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fuelDate">–î–∞—Ç–∞ *</label>
                    <input type="date" id="fuelDate" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="fuelLiters">–õ—ñ—Ç—Ä–∏ *</label>
                        <input type="number" id="fuelLiters" step="0.01" min="0" required placeholder="45.5">
                    </div>
                    <div class="form-group">
                        <label for="fuelPrice">–¶—ñ–Ω–∞ –∑–∞ –ª—ñ—Ç—Ä (–≥—Ä–Ω) *</label>
                        <input type="number" id="fuelPrice" step="0.01" min="0" required placeholder="52.50">
                    </div>
                </div>
                <div class="form-group">
                    <label for="fuelMileage">–ü—Ä–æ–±—ñ–≥ (–∫–º) *</label>
                    <input type="number" id="fuelMileage" min="0" required placeholder="51500">
                </div>
                <div class="form-group">
                    <label for="fuelStation">–ê–ó–°</label>
                    <input type="text" id="fuelStation" placeholder="–û–ö–ö–û">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="fuelFullTank" checked>
                        –ü–æ–≤–Ω–∏–π –±–∞–∫
                    </label>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" data-close="fuelModal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                    <button type="submit" class="btn btn-primary">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Add/Edit Expense -->
    <div class="modal" id="expenseModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="expenseModalTitle">–î–æ–¥–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É</h3>
                <button class="modal-close" data-close="expenseModal">&times;</button>
            </div>
            <form id="expenseForm">
                <input type="hidden" id="expenseId">
                <div class="form-group">
                    <label for="expenseCarId">–ê–≤—Ç–æ–º–æ–±—ñ–ª—å *</label>
                    <select id="expenseCarId" required>
                        <option value="">–í–∏–±–µ—Ä—ñ—Ç—å –∞–≤—Ç–æ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="expenseDate">–î–∞—Ç–∞ *</label>
                    <input type="date" id="expenseDate" required>
                </div>
                <div class="form-group">
                    <label for="expenseCategory">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è *</label>
                    <select id="expenseCategory" required>
                        <option value="">–í–∏–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é</option>
                        <option value="repair">üîß –†–µ–º–æ–Ω—Ç</option>
                        <option value="maintenance">üõ†Ô∏è –¢–û</option>
                        <option value="insurance">üìã –°—Ç—Ä–∞—Ö–æ–≤–∫–∞</option>
                        <option value="tax">üìÑ –ü–æ–¥–∞—Ç–æ–∫</option>
                        <option value="parking">üÖøÔ∏è –ü–∞—Ä–∫—É–≤–∞–Ω–Ω—è</option>
                        <option value="wash">üßΩ –ú–∏–π–∫–∞</option>
                        <option value="tires">üõû –®–∏–Ω–∏</option>
                        <option value="other">üì¶ –Ü–Ω—à–µ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="expenseAmount">–°—É–º–∞ (–≥—Ä–Ω) *</label>
                    <input type="number" id="expenseAmount" step="0.01" min="0" required placeholder="1500">
                </div>
                <div class="form-group">
                    <label for="expenseDescription">–û–ø–∏—Å</label>
                    <textarea id="expenseDescription" rows="3" placeholder="–ó–∞–º—ñ–Ω–∞ –≥–∞–ª—å–º—ñ–≤–Ω–∏—Ö –∫–æ–ª–æ–¥–æ–∫"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" data-close="expenseModal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                    <button type="submit" class="btn btn-primary">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Add/Edit Reminder -->
    <div class="modal" id="reminderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="reminderModalTitle">–î–æ–¥–∞—Ç–∏ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è</h3>
                <button class="modal-close" data-close="reminderModal">&times;</button>
            </div>
            <form id="reminderForm">
                <input type="hidden" id="reminderId">
                <div class="form-group">
                    <label for="reminderCarId">–ê–≤—Ç–æ–º–æ–±—ñ–ª—å *</label>
                    <select id="reminderCarId" required>
                        <option value="">–í–∏–±–µ—Ä—ñ—Ç—å –∞–≤—Ç–æ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reminderType">–¢–∏–ø *</label>
                    <select id="reminderType" required>
                        <option value="">–í–∏–±–µ—Ä—ñ—Ç—å —Ç–∏–ø</option>
                        <option value="maintenance">üõ†Ô∏è –¢–µ—Ö–Ω—ñ—á–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è</option>
                        <option value="insurance">üìã –°—Ç—Ä–∞—Ö–æ–≤–∫–∞</option>
                        <option value="inspection">üîç –¢–µ—Ö–æ–≥–ª—è–¥</option>
                        <option value="oil">üõ¢Ô∏è –ó–∞–º—ñ–Ω–∞ –º–∞—Å–ª–∞</option>
                        <option value="tires">üõû –ó–∞–º—ñ–Ω–∞ —à–∏–Ω</option>
                        <option value="other">üì¶ –Ü–Ω—à–µ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reminderDate">–î–∞—Ç–∞ *</label>
                    <input type="date" id="reminderDate" required>
                </div>
                <div class="form-group">
                    <label for="reminderMileage">–ê–±–æ –ø—Ä–∏ –ø—Ä–æ–±—ñ–≥—É (–∫–º)</label>
                    <input type="number" id="reminderMileage" min="0" placeholder="60000">
                </div>
                <div class="form-group">
                    <label for="reminderNote">–ü—Ä–∏–º—ñ—Ç–∫–∞</label>
                    <textarea id="reminderNote" rows="2" placeholder="–î–µ—Ç–∞–ª—ñ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" data-close="reminderModal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                    <button type="submit" class="btn btn-primary">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Export -->
    <div class="modal" id="exportModal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h3>–ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö</h3>
                <button class="modal-close" data-close="exportModal">&times;</button>
            </div>
            <div class="export-options">
                <button class="export-option" id="exportJSON">
                    <span class="export-icon">üìÑ</span>
                    <span class="export-text">–ï–∫—Å–ø–æ—Ä—Ç –≤ JSON</span>
                </button>
                <button class="export-option" id="exportCSV">
                    <span class="export-icon">üìä</span>
                    <span class="export-text">–ï–∫—Å–ø–æ—Ä—Ç –≤ CSV</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/storage.js"></script>
    <script src="js/cars.js"></script>
    <script src="js/fuel.js"></script>
    <script src="js/expenses.js"></script>
    <script src="js/reminders.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/export.js"></script>
    <script src="js/app.js"></script>
</body>

</html>